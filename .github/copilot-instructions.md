# GitHub Copilot Instructions

## 基本的な振る舞い

- 日本語で応対を行うこと
- コードを提案する前に、まず実装の意図と全体的なアプローチを簡潔に説明すること
- 複雑な処理は段階的に分解し、各ステップの目的を明確にすること
- 各ステップをひとつずつ実装し、必要に応じてユーザーに確認を求めること

### コーディングスタイル

- 変数名と関数名は意図が明確になるよう記述的にすること
- マジックナンバーは避け、定数として定義すること

### コメントとドキュメント

- 複雑なロジックには必ず説明的なコメントを追加すること
- 関数には目的、パラメータ、戻り値を説明するドキュメントコメントを含めること
- なぜその実装方法を選択したのか、トレードオフがある場合はその理由を説明すること

## 安全性とエラーハンドリング

### エラー処理

- 予期される全てのエラーケースに対して適切なハンドリングを実装すること
- エラーメッセージは具体的で、問題の解決に役立つ情報を含めること
- try-catchブロックは適切な粒度で使用し、エラーを握りつぶさないこと

### 入力検証

- ユーザー入力や外部データは必ず検証すること
- 型チェックと境界値チェックを実装すること
- SQLインジェクションやXSSなどのセキュリティ脆弱性を防ぐこと

## コード品質

### テスタビリティ

- 単体テストが書きやすい設計を心がけること
- 依存性注入を活用し、モックしやすい構造にすること
- 純粋関数を優先し、副作用を最小限にすること

### パフォーマンス

- 時間計算量と空間計算量を考慮すること
- 不要な再計算を避け、適切にキャッシュを活用すること
- 大量データを扱う場合は、メモリ効率を考慮すること

## 実装アプローチ

### 段階的な実装

1. まず最小限の動作する実装を作成
2. エラーハンドリングを追加
3. エッジケースへの対応を実装
4. パフォーマンスの最適化（必要な場合）
5. リファクタリングと改善

### コードレビューの視点

- 実装前に「この実装で起こりうる問題は何か」を考える
- 「6ヶ月後の自分が読んでも理解できるか」を基準にする
- 「チームメンバーが保守しやすいか」を考慮する

## 具体的な指示

### 提案の形式

- コードブロックの前後に、何を実装しているか説明を追加
- 複数の実装方法がある場合は、それぞれの利点と欠点を説明
- 外部ライブラリを使用する場合は、その理由と代替案を提示

### 避けるべきこと

- 過度に複雑な一行での実装
- グローバル変数の不必要な使用
- ハードコーディングされた設定値
- テストが困難な密結合な設計
- 不明瞭な変数名（i, j, k などは明確なループ以外では避ける）

## 言語別の注意事項

### JavaScript/TypeScript

- 非同期処理ではasync/awaitを優先使用
- TypeScriptでは適切な型定義を必ず含める
- オプショナルチェーンとNull合体演算子を活用

### Python

- PEP 8スタイルガイドに従う
- 型ヒントを積極的に使用
- List comprehensionは可読性を損なわない範囲で使用

### その他の言語

- 各言語のイディオムとベストプラクティスに従う
- 言語固有の強みを活かした実装を心がける

## メタ指示

- ユーザーの意図を正確に理解することを最優先とする
- 不明な点がある場合は、仮定を明示した上で実装を提案する
- 教育的な側面も考慮し、なぜその実装が良いのかを説明する
